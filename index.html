<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCU-IA - Plataforma Web de Inteligencia Artificial Autosuficiente</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --dark-bg: #0f172a;
            --dark-surface: #1e293b;
            --dark-text: #e2e8f0;
            --dark-border: #334155;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark-bg);
            color: var(--dark-text);
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background-color: var(--dark-surface);
            border-right: 1px solid var(--dark-border);
            padding: 20px;
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        .logo {
            margin-bottom: 30px;
            text-align: center;
        }

        .logo h1 {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .logo p {
            font-size: 0.8rem;
            color: #94a3b8;
        }

        .nav-item {
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-item:hover {
            background-color: rgba(79, 70, 229, 0.1);
        }

        .nav-item.active {
            background-color: var(--primary);
            color: white;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
            padding: 15px 25px;
            border-bottom: 1px solid var(--dark-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-title {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .content-area {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
        }

        /* Module Styles */
        .module-container {
            display: none;
        }

        .module-container.active {
            display: block;
        }

        .module-header {
            margin-bottom: 25px;
        }

        .module-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .module-description {
            color: #94a3b8;
            line-height: 1.6;
        }

        /* File Upload */
        .upload-area {
            border: 2px dashed var(--dark-border);
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-area:hover {
            border-color: var(--primary);
            background-color: rgba(99, 102, 241, 0.05);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        /* Results */
        .results-container {
            margin-top: 30px;
        }

        .result-card {
            background-color: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid var(--dark-border);
        }

        .result-title {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .result-content {
            line-height: 1.6;
        }

        /* Chat Interface */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 500px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background-color: var(--dark-surface);
            border-radius: 12px;
            margin-bottom: 15px;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px 15px;
            border-radius: 8px;
            max-width: 80%;
        }

        .user-message {
            background-color: var(--primary);
            margin-left: auto;
        }

        .ai-message {
            background-color: var(--dark-border);
        }

        .chat-input {
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid var(--dark-border);
            border-radius: 8px;
            background-color: var(--dark-surface);
            color: var(--dark-text);
        }

        .chat-input button {
            padding: 12px 20px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        /* Office Tools */
        .office-container {
            display: flex;
            gap: 20px;
            height: 600px;
        }

        .office-panel {
            flex: 1;
            background-color: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
        }

        .editor {
            width: 100%;
            height: 400px;
            background-color: var(--dark-bg);
            border: 1px solid var(--dark-border);
            border-radius: 8px;
            padding: 15px;
            color: var(--dark-text);
            font-family: monospace;
            resize: none;
            outline: none;
        }

        /* 3D Viewer */
        .viewer-container {
            width: 100%;
            height: 400px;
            background-color: var(--dark-bg);
            border-radius: 12px;
            overflow: hidden;
        }

        #threejs-canvas {
            width: 100%;
            height: 100%;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 80px;
                padding: 15px 10px;
            }
            
            .nav-text {
                display: none;
            }
            
            .logo h1 {
                font-size: 1.2rem;
            }
            
            .office-container {
                flex-direction: column;
                height: auto;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h1>PCU-IA</h1>
                <p>Plataforma de IA Autosuficiente</p>
            </div>
            
            <div class="nav-item active" data-module="analyzer">
                <span>üîç</span>
                <span class="nav-text">IA Analizadora</span>
            </div>
            
            <div class="nav-item" data-module="chat">
                <span>üí¨</span>
                <span class="nav-text">Chat Multiherramienta</span>
            </div>
            
            <div class="nav-item" data-module="office">
                <span>üìù</span>
                <span class="nav-text">IA Office</span>
            </div>
            
            <div class="nav-item" data-module="games">
                <span>üéÆ</span>
                <span class="nav-text">Juegos y Sistemas</span>
            </div>
            
            <div class="nav-item" data-module="images">
                <span>üñºÔ∏è</span>
                <span class="nav-text">Im√°genes 3D</span>
            </div>
            
            <div class="nav-item" data-module="architect">
                <span>üèóÔ∏è</span>
                <span class="nav-text">Architect AI</span>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <div class="header-title">PCU-IA Dashboard</div>
                <div class="header-actions">
                    <button id="theme-toggle">üåô</button>
                </div>
            </div>

            <div class="content-area">
                <!-- IA Analyzer Module -->
                <div id="analyzer-module" class="module-container active">
                    <div class="module-header">
                        <h2 class="module-title">IA Analizadora Universal</h2>
                        <p class="module-description">Sube cualquier archivo para an√°lisis, resumen, mapas mentales y m√°s.</p>
                    </div>

                    <div class="upload-area" id="upload-area">
                        <div class="upload-icon">üìÅ</div>
                        <h3>Sube un archivo para analizar</h3>
                        <p>PDF, Word, Excel, ZIP, Im√°genes, C√≥digo, 3D</p>
                        <input type="file" id="file-input" style="display: none;" multiple>
                    </div>

                    <div class="results-container" id="analyzer-results">
                        <!-- Results will be populated here -->
                    </div>
                </div>

                <!-- Chat Module -->
                <div id="chat-module" class="module-container">
                    <div class="module-header">
                        <h2 class="module-title">Chat de IA Multiherramienta</h2>
                        <p class="module-description">ChatGPT-style con capacidades de c√≥digo, documentos, juegos y m√°s.</p>
                    </div>

                    <div class="chat-container">
                        <div class="chat-messages" id="chat-messages">
                            <div class="message ai-message">
                                ¬°Hola! Soy tu asistente de IA. ¬øEn qu√© puedo ayudarte hoy?
                            </div>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="chat-input" placeholder="Escribe tu mensaje...">
                            <button id="send-btn">Enviar</button>
                        </div>
                    </div>
                </div>

                <!-- Office Module -->
                <div id="office-module" class="module-container">
                    <div class="module-header">
                        <h2 class="module-title">IA Office Suite</h2>
                        <p class="module-description">IA-Word, IA-Excel, IA-Slides con edici√≥n inteligente.</p>
                    </div>

                    <div class="office-container">
                        <div class="office-panel">
                            <h3>IA-Word</h3>
                            <textarea class="editor" id="word-editor" placeholder="Escribe tu documento aqu√≠..."></textarea>
                            <div style="margin-top: 10px;">
                                <button onclick="saveDocument('word')">Guardar</button>
                                <button onclick="loadDocument('word')">Cargar</button>
                            </div>
                        </div>

                        <div class="office-panel">
                            <h3>IA-Excel</h3>
                            <textarea class="editor" id="excel-editor" placeholder="Datos de hoja de c√°lculo..."></textarea>
                            <div style="margin-top: 10px;">
                                <button onclick="saveDocument('excel')">Guardar</button>
                                <button onclick="loadDocument('excel')">Cargar</button>
                            </div>
                        </div>

                        <div class="office-panel">
                            <h3>IA-Slides</h3>
                            <textarea class="editor" id="slides-editor" placeholder="Contenido de presentaci√≥n..."></textarea>
                            <div style="margin-top: 10px;">
                                <button onclick="saveDocument('slides')">Guardar</button>
                                <button onclick="loadDocument('slides')">Cargar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Games Module -->
                <div id="games-module" class="module-container">
                    <div class="module-header">
                        <h2 class="module-title">Juegos y Sistemas Operativos Web</h2>
                        <p class="module-description">Genera y ejecuta juegos y sistemas operativos simulados.</p>
                    </div>

                    <div class="viewer-container">
                        <div id="threejs-canvas"></div>
                    </div>

                    <div style="margin-top: 20px;">
                        <button onclick="generateGame()">Generar Juego Simple</button>
                        <button onclick="generateOS()">Generar Sistema OS</button>
                    </div>
                </div>

                <!-- Images Module -->
                <div id="images-module" class="module-container">
                    <div class="module-header">
                        <h2 class="module-title">Im√°genes y Modelos 3D</h2>
                        <p class="module-description">Generador de im√°genes y visor de modelos 3D.</p>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <button onclick="generateImage()">Generar Imagen</button>
                        <button onclick="load3DModel()">Cargar Modelo 3D</button>
                    </div>

                    <div class="viewer-container">
                        <div id="image-viewer" style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background-color: #1e293b;">
                            <p>Visor de Im√°genes y 3D</p>
                        </div>
                    </div>
                </div>

                <!-- Architect Module -->
                <div id="architect-module" class="module-container">
                    <div class="module-header">
                        <h2 class="module-title">Architect AI</h2>
                        <p class="module-description">M√≥dulo para reescribir c√≥digo y crear nuevas herramientas.</p>
                    </div>

                    <div class="office-panel">
                        <h3>Editor de C√≥digo del Sistema</h3>
                        <textarea class="editor" id="code-editor" placeholder="C√≥digo del sistema..."></textarea>
                        <div style="margin-top: 10px;">
                            <button onclick="saveSystemCode()">Guardar C√≥digo</button>
                            <button onclick="loadSystemCode()">Cargar C√≥digo</button>
                            <button onclick="updateSystem()">Actualizar Sistema</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global State
        let currentModule = 'analyzer';
        let fileContent = '';
        let chatMessages = [];
        let scene, camera, renderer;

        // DOM Elements
        const modules = document.querySelectorAll('.module-container');
        const navItems = document.querySelectorAll('.nav-item');
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        const chatMessagesDiv = document.getElementById('chat-messages');

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeModules();
            initializeEventListeners();
            initialize3DViewer();
        });

        function initializeModules() {
            // Set active module
            document.getElementById(`${currentModule}-module`).classList.add('active');
        }

        function initializeEventListeners() {
            // Navigation
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const module = item.dataset.module;
                    switchModule(module);
                });
            });

            // File Upload
            uploadArea.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleFileUpload);

            // Chat
            sendBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });

            // Theme Toggle
            document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
        }

        function switchModule(module) {
            // Remove active class from current module
            document.getElementById(`${currentModule}-module`).classList.remove('active');
            navItems.forEach(item => item.classList.remove('active'));

            // Add active class to new module
            currentModule = module;
            document.getElementById(`${module}-module`).classList.add('active');
            document.querySelector(`[data-module="${module}"]`).classList.add('active');
        }

        function handleFileUpload(event) {
            const files = event.target.files;
            if (files.length === 0) return;

            const file = files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                fileContent = e.target.result;
                analyzeFile(file, fileContent);
            };

            reader.readAsText(file);
        }

        function analyzeFile(file, content) {
            const resultsContainer = document.getElementById('analyzer-results');
            resultsContainer.innerHTML = '';

            // Simulate analysis
            const analysis = {
                summary: `An√°lisis del archivo ${file.name}. Tipo: ${file.type || 'Desconocido'}. Tama√±o: ${(file.size / 1024).toFixed(2)} KB.`,
                explanation: 'Este archivo ha sido analizado por nuestra IA. Se han identificado patrones de contenido y estructura.',
                insights: ['Archivo contiene texto plano', 'Tama√±o √≥ptimo para procesamiento', 'Formato compatible']
            };

            // Create result cards
            createResultCard('Resumen', analysis.summary);
            createResultCard('Explicaci√≥n', analysis.explanation);
            createResultCard('Insights Clave', analysis.insights.join('<br>'));
            
            // Add mental map placeholder
            createResultCard('Mapa Mental', 'Generando mapa mental...');
            createResultCard('Mapa Conceptual', 'Generando mapa conceptual...');
        }

        function createResultCard(title, content) {
            const card = document.createElement('div');
            card.className = 'result-card';
            card.innerHTML = `
                <div class="result-title">${title}</div>
                <div class="result-content">${content}</div>
            `;
            document.getElementById('analyzer-results').appendChild(card);
        }

        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            chatInput.value = '';

            // Simulate AI response
            setTimeout(() => {
                const response = generateAIResponse(message);
                addMessage(response, 'ai');
            }, 1000);
        }

        function addMessage(content, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.textContent = content;
            chatMessagesDiv.appendChild(messageDiv);
            chatMessagesDiv.scrollTop = chatMessagesDiv.scrollHeight;
        }

        function generateAIResponse(message) {
            // Simple response logic
            if (message.toLowerCase().includes('hola') || message.toLowerCase().includes('saludar')) {
                return '¬°Hola! Soy tu asistente de IA. ¬øEn qu√© puedo ayudarte hoy? Puedo escribir c√≥digo, crear documentos, generar juegos y mucho m√°s.';
            } else if (message.toLowerCase().includes('c√≥digo')) {
                return 'Puedo ayudarte a escribir c√≥digo. ¬øQu√© lenguaje necesitas? ¬øQu√© tipo de proyecto est√°s desarrollando?';
            } else if (message.toLowerCase().includes('juego')) {
                return '¬°Genial! Puedo ayudarte a crear un juego simple. ¬øQu√© tipo de juego te gustar√≠a? ¬ø2D, 3D, puzzle, aventura?';
            } else {
                return 'He procesado tu solicitud. ¬øTe gustar√≠a que generara c√≥digo, un documento, un juego o algo m√°s? Soy capaz de ayudarte en m√∫ltiples √°reas.';
            }
        }

        function saveDocument(type) {
            const editor = document.getElementById(`${type}-editor`);
            const content = editor.value;
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ia-${type}-${Date.now()}.txt`;
            a.click();
        }

        function loadDocument(type) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.txt,.json,.js,.html,.css';
            
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    document.getElementById(`${type}-editor`).value = e.target.result;
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }

        function initialize3DViewer() {
            const container = document.getElementById('threejs-canvas');
            
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);

            // Add lighting
            const ambientLight = new THREE.AmbientLight(0x404040, 1);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);

            // Add a rotating cube
            const geometry = new THREE.BoxGeometry();
            const material = new THREE.MeshPhongMaterial({ 
                color: 0x6366f1,
                wireframe: false
            });
            const cube = new THREE.Mesh(geometry, material);
            scene.add(cube);

            camera.position.z = 5;

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                
                cube.rotation.x += 0.01;
                cube.rotation.y += 0.01;
                
                renderer.render(scene, camera);
            }

            animate();

            // Handle window resize
            window.addEventListener('resize', () => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            });
        }

        function generateGame() {
            alert('Generando juego simple... En una implementaci√≥n real, aqu√≠ se crear√≠a un juego con Three.js o Canvas.');
        }

        function generateOS() {
            alert('Generando sistema operativo simulado... Esto crear√≠a una interfaz de sistema operativo en el navegador.');
        }

        function generateImage() {
            alert('Generando imagen... Aqu√≠ se integrar√≠a con un backend de generaci√≥n de im√°genes.');
        }

        function load3DModel() {
            alert('Cargando modelo 3D... Aqu√≠ se permitir√≠a cargar archivos OBJ, GLTF, etc.');
        }

        function saveSystemCode() {
            const code = document.getElementById('code-editor').value;
            const blob = new Blob([code], { type: 'text/javascript' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'pcu-ia-system.js';
            a.click();
        }

        function loadSystemCode() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.js,.html,.css';
            
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    document.getElementById('code-editor').value = e.target.result;
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }

        function updateSystem() {
            alert('Actualizando sistema... En una implementaci√≥n real, esto recargar√≠a el sistema con el nuevo c√≥digo.');
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            const button = document.getElementById('theme-toggle');
            button.textContent = document.body.classList.contains('dark-theme') ? '‚òÄÔ∏è' : 'üåô';
        }

        // Additional AI capabilities
        class PCUAI {
            constructor() {
                this.capabilities = [
                    'An√°lisis de archivos',
                    'Generaci√≥n de c√≥digo',
                    'Creaci√≥n de documentos',
                    'Generaci√≥n de juegos',
                    'Procesamiento de lenguaje natural',
                    'Generaci√≥n de contenido'
                ];
            }

            async processRequest(request) {
                // Simulate AI processing
                return new Promise(resolve => {
                    setTimeout(() => {
                        resolve(`Procesado: ${request}. Capacidad: ${this.capabilities[Math.floor(Math.random() * this.capabilities.length)]}`);
                    }, 1500);
                });
            }

            generateMentalMap(content) {
                return `Mapa mental generado para: ${content.substring(0, 50)}...`;
            }

            generateConceptualMap(content) {
                return `Mapa conceptual basado en: ${content.substring(0, 50)}...`;
            }

            createProgram(code) {
                // In a real implementation, this would compile and run the code
                return `Programa generado con √©xito. C√≥digo: ${code.substring(0, 100)}...`;
            }
        }

        // Initialize main AI instance
        const pcuAI = new PCUAI();

        // Export for potential external use
        window.PCUAI = pcuAI;
    </script>
</body>
</html>
